---
layout: post
title: Testing the mouse scroll wheel
---

<div class="home">

  <script type="text/javascript" src="/scripts/processing-1.4.8.min.js"></script>

  <h1 class="page-heading">Testing the mouse scroll wheel</h1>

  <canvas id="sketch" data-processing-sources="/scripts/mouseScrollTest/mouseScrollTest.pde"></canvas>


  <script type="text/javascript">
    function handle(delta) {
      var event = {
        getCount: function() { return delta; }
      };
      Processing.getInstanceById('sketch').mouseWheel(event);
    }
 
    function wheel(event){
      event.preventDefault();
      var delta = 0;
      if (!event) event = window.event;
      if (event.wheelDelta) {
        delta = event.wheelDelta/120; 
          if (window.opera) delta = -delta;
        } else if (event.detail) {
          delta = -event.detail/3;
        }
        if (delta) handle(delta);
        return false;
      }

    function bind(obj){
      if (obj.addEventListener){
        obj.addEventListener('DOMMouseScroll', wheel, false);
      }
      obj.onmousewheel = wheel;
    }

    bind(document.getElementById('sketch'));
  </script>

</div>
